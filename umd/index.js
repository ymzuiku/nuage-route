!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("querystring-number")):"function"==typeof define&&define.amd?define(["querystring-number"],e):(n=n||self).vanillaRoute=e(n.queryString)}(this,function(y){"use strict";y=y&&y.hasOwnProperty("default")?y.default:y;var n,w=function(){return(w=Object.assign||function(n){for(var e,i=1,t=arguments.length;i<t;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};n=["pushState","replaceState","back","forward","go","scrollRestoration"],void 0===window.history?(window.history={length:0,state:{}},n.forEach(function(n){void 0===window.history[n]&&(window.history[n]=function(){})})):n.forEach(function(n){void 0===window.history[n]&&(window.history[n]=function(){})});var v="block",g="block",C="absolute",m="auto",b="none",R=function(){function a(n,e){var i=n+e;if(f.has(i))return f.get(i);var t=n&&n.split("/"),o=e&&e.split("/");if(!o||!t)return f.set(i,!1),!1;var r=!0;return t.forEach(function(n,e){"*"!==n&&n!==o[e]&&(r=!1)}),f.set(i,r),r}function l(){if(0<window.location.hash.length){var n=window.location.hash.split("?"),e=n[0],i=n[1],t=void 0===i?"":i;return[e.replace(c,""),t]}return[window.location.pathname,window.location.search||""]}function s(n,e){for(var i=0,t=r;i<t.length;i++){(0,t[i])(n,e,p)}}function d(n,e,i){if(n!==u[u.length-1]){u.push(n);var t=w({},p[n],e);if(p[n]=t,"undefined"!=typeof window&&!i&&!v){var o=y.stringify(t);window.history.pushState(null,""+c+n,""===o?""+c+n:""+c+n+"?"+o)}s(n,e)}}function o(n,e){for(var i="number"==typeof n?n:u.length-1,t=u[i-1],o=p[t],r=0;r<u.length-i;r++)e||window.history.back(),p[t]={},u.pop();s(t,o)}var p={},u=[],f=new Map,h=new Map,c="",v=!1,r=[];if("undefined"!=typeof window){window.addEventListener("popstate",function(){if(l()[0]!==u[u.length-1]){var i=!1;if(u.forEach(function(n,e){n===l()[0]&&(i=!0)}),i)o(void 0,!0);else{var n=l(),e=n[0],t=n[1];d(e,""!==t?y.parse(t):void 0,!0)}}else s(l()[0],void 0)})}return{checkPathMatch:function(n){var e=n+":"+u.join(",");if(h.has(e))return h.get(e);for(var i=!1,t=0,o=0;o<u.length;o++){a(n,u[o])&&(t=o,i=!0)}var r=[a(n,u[u.length-1]),i,t];return h.set(e,r),r},init:function(n,e,i){if(void 0===i&&(i="#"),v=e||!1,c=i,"undefined"!=typeof window){var t=l(),o=t[0],r=t[1],a=y.parse(r);"/"===o||o===n?d(n,a):(d(n),d(o,a))}},listen:function(n){r.push(n)},pop:o,push:d,replace:function(n,e){var i=n||u[u.length-1],t=w({},p[n],e);if(p[n]=t,u[p.paths.length-1]=i,"undefined"!=typeof window){var o=y.stringify(t);window.history.replaceState(null,""+c+i,""===o?""+c+i:""+c+i+"?"+o)}s(i,e)},state:p,paths:u,Register:null}}();return R.Register=function(n){var a=n.path,l=n.component,s=n.delay,e=n.keep,d=void 0===e||e,p=n.leaveTime,u=document.createElement("div");function f(){u.style.cssText="\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        left: 0px;\n        top: 0px;\n        background-color: #fff;\n        pointer-events: "+h.style.pointerEvents+";\n        display: "+h.style.display+";\n        position: "+h.style.position+";\n        z-index: "+h.style.zIndex+";\n    "}u.setAttribute("route",a);var h={animeTimer:null,unListen:null,isRenderChild:!1,style:{pointerEvents:b,display:g,position:C,zIndex:1},realChild:null};f();var c=function(){var n=R.checkPathMatch(a),e=n[0],i=n[1],t=n[2];if(e)h.realChild||(void 0===s?(h.realChild=l(),u.innerHTML="",u.append(h.realChild),c()):l().then(function(n){h.realChild=n(),u.innerHTML="",u.append(h.realChild),c()})),h.isRenderChild=!0,h.style={pointerEvents:m,display:v,position:"relative",zIndex:3},f();else{var o=d&&i,r=h.isRenderChild;void 0!==h.isRenderChild&&!0!==h.isRenderChild||(0<t&&p&&0<p?(h.style={pointerEvents:m,display:v,position:C,zIndex:3},f(),setTimeout(function(){h.isRenderChild=o,h.style={pointerEvents:b,display:g,position:C,zIndex:1},f(),r&&!h.isRenderChild?u.innerHTML="":r||(u.innerHTML="",u.append(h.realChild))},p)):(h.isRenderChild=o,h.style={pointerEvents:b,display:g,position:C,zIndex:0<t?2:1},f(),r&&!h.isRenderChild?u.innerHTML="":r||(u.innerHTML="",u.append(h.realChild))))}};return R.listen(c),u},R});
//# sourceMappingURL=index.js.map
